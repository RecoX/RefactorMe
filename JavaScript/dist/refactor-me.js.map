{"mappings":"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","sources":["src/index.js","src/refactor-me/ProductDataRenderer.js","src/refactor-me/ProductDataConsolidator.js","src/do-not-refactor/LawnmowerRepository.js","src/do-not-refactor/PhoneCaseRepository.js","src/do-not-refactor/TShirtRepository.js"],"sourcesContent":["import ProductDataRenderer from './refactor-me/ProductDataRenderer.js';\r\n\r\nwindow.ProductDataRenderer = ProductDataRenderer;\r\n","﻿import ProductDataConsolidator from \"./ProductDataConsolidator.js\";\n\nfunction ProductDataRenderer() {}\n\nProductDataRenderer.prototype.render = function () {\n  renderTable(\"nzdProducts\", \"NZD\", ProductDataConsolidator.get());\n  renderTable(\"usdProducts\", \"USD\", ProductDataConsolidator.getInUSDollars());\n  renderTable(\"euProducts\", \"Euro\", ProductDataConsolidator.getInEuros());\n};\n\nfunction renderTable(containerId, currency, products) {\n\tconst containerElement = document.createElement(\"div\");\n\tcontainerElement.id = containerId;\n  \n\tlet tableHtml = `<table class=\"table table-striped\">\n\t\t<thead style=\"background-color: yellow;\">\n\t\t  <tr><td colspan=\"3\">Products (${currency})</td></tr>\n\t\t  <tr>\n\t\t\t<td>Name</td>\n\t\t\t<td>Price</td>\n\t\t\t<td>Type</td>\n\t\t  </tr>\n\t\t</thead>\n\t\t<tbody>`;\n  \n\tfor (let i = 0; i < products.length; i++) {\n\t  const product = products[i];\n\t  tableHtml += `<tr>\n\t\t  <td>${product.name}</td>\n\t\t  <td>${product.price}</td>\n\t\t  <td>${product.type}</td>\n\t\t</tr>`;\n\t}\n  \n\ttableHtml += \"</tbody></table>\";\n  \n\tconst parentDiv = document.getElementById(\"currencyProducts\");\n\tparentDiv.appendChild(containerElement);\n\tcontainerElement.innerHTML = tableHtml;\n  }\n\nexport default ProductDataRenderer;","﻿import LawnmowerRepository from '../do-not-refactor/LawnmowerRepository';\nimport PhoneCaseRepository from '../do-not-refactor/PhoneCaseRepository';\nimport TShirtRepository from '../do-not-refactor/TShirtRepository';\n\nfunction ProductDataConsolidator() {}\n\nconst CURRENCIES_AVAILABLE = {\n  NZD: {\n    value: 1,\n  },\n  EURO: {\n    value: 0.67,\n  },\n  USD: {\n    value: 0.76,\n  },\n};\n\nconst LAWN_MOWER = {\n\trepository: new LawnmowerRepository(),\n\ttype: \"Lawnmower\"\n}\n\nconst PHONE_CASE = {\n\trepository: new PhoneCaseRepository(),\n\ttype: \"Phone Case\"\n}\n\nconst TSHIRT = {\n\trepository: new TShirtRepository(),\n\ttype: \"T-Shirt\"\n}\n\nfunction extractProductData(repository, type, currencyFactor) {\n  const products = [];\n\n  const items = repository.getAll();\n  for (let i = 0; i < items.length; i++) {\n    products.push({\n      id: items[i].id,\n      name: items[i].name,\n      price: (items[i].price * currencyFactor).toFixed(2),\n      type,\n    });\n  }\n\n  return products;\n}\n\nfunction getProductDataForCurrency(currency) {\n  const products = [];\n\n  products.push(...extractProductData(LAWN_MOWER.repository, LAWN_MOWER.type, currency.value));\n  products.push(...extractProductData(PHONE_CASE.repository, PHONE_CASE.type, currency.value));\n  products.push(...extractProductData(TSHIRT.repository, TSHIRT.type, currency.value));\n\n  return products;\n}\n\nProductDataConsolidator.get = function () {\n  return getProductDataForCurrency(CURRENCIES_AVAILABLE.NZD);\n};\n\nProductDataConsolidator.getInUSDollars = function () {\n  return getProductDataForCurrency(CURRENCIES_AVAILABLE.USD);\n};\n\nProductDataConsolidator.getInEuros = function () {\n  return getProductDataForCurrency(CURRENCIES_AVAILABLE.EURO);\n};\n\nexport default ProductDataConsolidator;","﻿function LawnmowerRepository() { }\n\nLawnmowerRepository.prototype.getAll = function () {\n\treturn [\n\t\t{\n\t\t\tid: 1,\n\t\t\tname: \"Hewlett-Packard Rideable Lawnmower\",\n\t\t\tfuelEfficiency: \"Very Low\",\n\t\t\tisVehicle: true,\n\t\t\tprice: 3000\n\t\t}, {\n\t\t\tid: 2,\n\t\t\tname: \"Fisher Price's My First Lawnmower\",\n\t\t\tfuelEfficiency: \"Ultimate\",\n\t\t\tisVehicle: false,\n\t\t\tprice: 45\n\t\t}, {\n\t\t\tid: 3,\n\t\t\tname: \"Volkswagen LawnMaster 39000B Lawnmower\",\n\t\t\tfuelEfficiency: \"Moderate\",\n\t\t\tisVehicle: false,\n\t\t\tprice: 1020\n\t\t}\n\t];\n}\n\nexport default LawnmowerRepository;","﻿function PhoneCaseRepository() { }\n\nPhoneCaseRepository.prototype.getAll = function () {\n\treturn [\n\t\t{ \n\t\t\tid: 1,\n            name: \"Amazon Fire Burgundy Phone Case\",\n            colour: \"Burgundy\",\n            material: \"PVC\",\n            targetPhone: \"Amazon Fire\",\n            price: 14.0\n\t\t}, {\n            id: 2,\n            name: \"Nokia Lumia 920/930/Icon Crimson Phone Case\",\n            colour: \"Red\",\n            material: \"Rubber\",\n            targetPhone: \"Nokia Lumia 920/930/Icon\",\n            price: 10.0\n        }\n\t]\n}\n\nexport default PhoneCaseRepository;","﻿function TShirtRepository() { }\n\nTShirtRepository.prototype.getAll = function () {\n\treturn [\n\t\t{\n\t\t\tid: 1,\n\t\t\tcolour: \"Blue\",\n            name: \"Xamarin C# T-Shirt\",\n            price: 15.0,\n            shirtText: \"C#, Xamarin\"\n\t\t}, {\n            id: 2,\n            colour: \"Black\",\n            name: \"New York Yankees T-Shirt\",\n            price: 8.0,\n            shirtText: \"NY\"\n        }, {\n\t\t\tid: 3,\n            colour: \"Green\",\n            name: \"Disney Sleeping Beauty T-Shirt\",\n            price: 10.0,\n            shirtText: \"Mirror mirror on the wall...\"\n        }\n\t];\n}\n\nexport default TShirtRepository;"],"names":[],"version":3,"file":"refactor-me.js.map"}